

<!-- HTML -->
<button id="page-mm">MirrorMult</button>
<button id="page-rs">RotSymm</button>

<section id="hidden-mm" style="display: block;">
  <h1>MirrorMult</h1>
  
  
  <div id="direction">
    <h3>Mirror Direction</h3>
    <input type="radio" id="hori" value="1" name="mirrorDir">
    <svg width="12" height="12">
      <!-- put svg for arrow thing here -->
    </svg>    
    <label for="hori">Horizontal</label>
    
    <input type="radio" id="vert" value="2" name="mirrorDir">
    <svg width="12" height="12">
      <!-- put svg for arrow thing here -->
    </svg>    
    <label for="vert">Vertical</label>
  </div>

  <div id="origin-mm" class="origin">
    <span>Mirror Object:</span>
    <p style="display: inline;">Not selected yet</p> <!-- change with TS mayb --> 
  </div>


  <div class="button">
    <button id="submit-mm">Mirror Selected Objects!</button>
  </div>

</section>

<section id="hidden-rs" style="display: none;">
  <h1>RotSymm</h1>
  
  <div id="copies">
    <label for="num-copies">Number of Copies:</label>
    <input type="number" id="num-copies" min="2" step="1" value="2">
  </div>  

  <div id="origin-rs" class="origin">
    <input type="text">
  </div>
</section>

<!-- honestly, to move forward concretely in this project, im gonna need to figure out how to communicate figma info to the plugin first -->

<!-- JS -->
<script>
  window.onmessage = event => {
      const data = event.data.pluginMessage;

      const mirrorObjName = document.querySelector("div.origin p")

      console.log(data.selectedObj);
      console.log("hi");
      
      if (data.selectedObj) {
        mirrorObjName.innerHTML = data.selectedObj;
      }
      else {
        mirrorObjName.innerHTML = "Not selected yet!"
      
    }
  }
  const buttonMM = document.getElementById("page-mm");
  const buttonRS = document.getElementById("page-rs");

  const sectionMM = document.getElementById("hidden-mm");
  const sectionRS = document.getElementById("hidden-rs");
  
  buttonMM.addEventListener('click', function() { // allows for the MirrorMult button to take user to the MirrorMult Menu, with its specific inputs
        sectionMM.style.display = 'block';
        sectionRS.style.display = 'none';
    });

    buttonRS.addEventListener('click', function() { // allows for the RotSymm button to take user to the Rotsymm Menu, with its specific inputs
        sectionRS.style.display = 'block';
        sectionMM.style.display = 'none';
    });
  
  document.getElementById('submit-mm').onclick = () => {
    const mirrorDir = document.querySelector('input[name="mirrorDir"]:checked').value; // saves either "1" or "2" depending on which radio button is checked, Horizontal or Vertical

    parent.postMessage({mmMessage: mirrorDir}, '*'); // sends the mirror direction for MirrorMult
  }

  document.getElementById('submit-rs').onclick = () => {
    const numCopies = document.getElementById('num-copies').value;

  }
</script>